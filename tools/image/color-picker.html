<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>顏色選擇器</title>
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
  <h1>顏色選擇器</h1>

  <label for="colorInput">選擇顏色：</label>
  <input type="color" id="colorInput" value="#ff0000">

  <div style="margin-top:20px;">
    <p>HEX: <span id="hex">#ff0000</span></p>
    <p>RGB: <span id="rgb">rgb(255,0,0)</span></p>
    <p>HSL: <span id="hsl">hsl(0,100%,50%)</span></p>
  </div>

  <div id="colorBox" style="width:100px;height:100px;margin-top:10px;border:1px solid #ccc;"></div>

  <p><a href="../index.html">← 返回工具目錄</a></p>

  <script>
    const colorInput = document.getElementById("colorInput");
    const hexSpan = document.getElementById("hex");
    const rgbSpan = document.getElementById("rgb");
    const hslSpan = document.getElementById("hsl");
    const colorBox = document.getElementById("colorBox");

    function updateColor() {
      const hex = colorInput.value;
      hexSpan.textContent = hex;

      // 轉 RGB
      const r = parseInt(hex.slice(1,3),16);
      const g = parseInt(hex.slice(3,5),16);
      const b = parseInt(hex.slice(5,7),16);
      rgbSpan.textContent = `rgb(${r},${g},${b})`;

      // 轉 HSL
      const [h,s,l] = rgbToHsl(r,g,b);
      hslSpan.textContent = `hsl(${h},${s}%,${l}%)`;

      colorBox.style.backgroundColor = hex;
    }

    function rgbToHsl(r,g,b){
      r /= 255; g /= 255; b /= 255;
      const max = Math.max(r,g,b), min = Math.min(r,g,b);
      let h,s,l = (max + min) / 2;

      if(max === min){ h = s = 0; }
      else {
        const d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch(max){
          case r: h = (g - b) / d + (g < b ? 6 : 0); break;
          case g: h = (b - r) / d + 2; break;
          case b: h = (r - g) / d + 4; break;
        }
        h = Math.round(h*60);
        s = Math.round(s*100);
        l = Math.round(l*100);
      }
      return [h,s,l];
    }

    colorInput.addEventListener("input", updateColor);
    updateColor(); // 初始化
  </script>
</body>
</html>
